## å›æº¯ç®—æ³•

å’Œ [131. åˆ†å‰²å›æ–‡ä¸²](https://mp.weixin.qq.com/s?__biz=MzU4NDE3MTEyMA==&mid=2247487047&idx=1&sn=117c48f20778868442fce44e100d2ea8) ä¸€æ ·ï¼ŒåŒæ ·æ˜¯ä¸€é“æ±‚æ‰€æœ‰æ–¹æ¡ˆçš„é¢˜ç›®ï¼Œåªèƒ½æ˜¯æ²¡æœ‰å¤ªå¤šä¼˜åŒ–çš„ã€Œçˆ†æœã€åšæ³•ã€‚

è®¾è®¡é€’å½’å‡½æ•°ä¸º `void dfs(int idx, int n, List<Integer> cur)`ï¼Œå…¶ä¸­ `idx` å’Œ `n` åˆ†åˆ«ä»£è¡¨å½“å‰å¤„ç†å­—ç¬¦ä¸² `s` çš„å“ªä¸ªä½ç½®ï¼Œä»¥åŠå­—ç¬¦ä¸² `s` çš„æ€»é•¿åº¦ï¼Œè€Œ `cur` çš„åˆ™æ˜¯ä»£è¡¨å­ä¸² $s[0 ... (idx - 1)]$ éƒ¨åˆ†çš„å…·ä½“åˆ’åˆ†æ–¹æ¡ˆã€‚

ç”¨é¢˜ç›®æ ·ä¾‹ `s = "25525511135"` ä½œä¸º ğŸŒ°ï¼Œ`n` å›ºå®šä¸º `11`ï¼Œå½“ `idx = 3` æ—¶ï¼Œ`cur` ä¸º $s[0...2] = 255$  éƒ¨åˆ†çš„åˆ’åˆ†æ–¹æ¡ˆï¼Œ`cur` å¯èƒ½æ˜¯ `[2,5,5]`ã€`[2,55]`ã€`[25,5]`ã€`[255]` ä¹‹ä¸€ï¼Œåœ¨ `cur` çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ç»§ç»­çˆ†æœå‰©ä½™éƒ¨åˆ†ï¼Œå³é€’å½’æ‰§è¡Œ `dfs(idx, n, cur)`ï¼Œç®—æ³•ä¼šå°†å‰©ä½™éƒ¨åˆ†çš„åˆ’åˆ†æ–¹æ¡ˆæ·»åŠ åˆ° `cur` ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦ç¡®ä¿æ¯æ¬¡è¿½åŠ åˆ° `cur` çš„æ•°å€¼ç¬¦åˆè¦æ±‚å³å¯ï¼ˆæ²¡æœ‰å‰å¯¼é›¶ ä¸” èŒƒå›´åœ¨ $[0, 255]$ ä¸­ï¼‰ã€‚

åœ¨å•æ¬¡å›æº¯è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°† `idx` ä½œä¸ºå½“å‰åˆ’åˆ†æ•°å­—çš„å·¦ç«¯ç‚¹ï¼Œé€šè¿‡æšä¸¾çš„å½¢å¼æ‰¾åˆ°å³ç«¯ç‚¹ `j`ï¼Œå¹¶å°†å½“å‰æ•°å­— $s[idx ... (j - 1)]$ åŠ åˆ° `cur` ä¸­ï¼ˆè‹¥åˆæ³•ï¼‰ï¼Œå›æº¯åˆ°åº•åå†æ·»åŠ åˆ° `cur` çš„å…ƒç´ è¿›è¡Œç§»é™¤ã€‚

å½“ `idx = n` ä»£è¡¨æ•´ä¸ª `s` å·²ç»å¤„ç†å®Œæˆï¼Œè‹¥æ­¤æ—¶ `cur` æ°å¥½æœ‰ $4$ ä¸ªå…ƒç´ ï¼Œè¯´æ˜æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ç»„åˆæ³•æ–¹æ¡ˆï¼Œå°†å…¶æ‹¼æ¥æˆå­—ç¬¦ä¸²è¿½åŠ åˆ°ç­”æ¡ˆæ•°ç»„ä¸­ã€‚åŒæ—¶ä¹Ÿæ˜¯ç”±äºåˆ’åˆ†è¿‡ç¨‹ä¸­ `cur` æœ€å¤šåªæœ‰ $4$ ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ­¤åšç®€å•å‰ªæã€‚

ä»£ç ï¼š

* []

```Java
class Solution {
    List<String> ans = new ArrayList<>();
    char[] cs;
    public List<String> restoreIpAddresses(String s) {
        cs = s.toCharArray();
        dfs(0, cs.length, new ArrayList<>());
        return ans;
    }
    void dfs(int idx, int n, List<Integer> cur) {
        if (cur.size() > 4) return ;
        if (idx == n) {
            if (cur.size() == 4) {
                StringBuilder sb = new StringBuilder();
                for (int i = 0; i < 4; i++) sb.append(cur.get(i)).append(".");
                ans.add(sb.substring(0, sb.length() - 1));
            }
        } else {
            for (int i = idx; i < n; i++) {
                int t = 0;
                for (int j = idx; j <= i; j++) t = t * 10 + (cs[j] - '0');
                if (cs[idx] == '0' && i != idx) break;
                if (t > 255) break;
                cur.add(t);
                dfs(i + 1, n, cur);
                cur.remove(cur.size() - 1);
            }
        }
    }
}
```

* []

```Python
class Solution:
    def restoreIpAddresses(self, s: str) -> List[str]:
        ans = []
        def dfs(idx, n, cur):
            if len(cur) > 4:
                return 
            if idx == n:
                if len(cur) == 4:
                    ans.append('.'.join(cur))
            else:
                for i in range(idx, n):
                    t = 0
                    for j in range(idx, i + 1):
                        t = t * 10 + (ord(s[j]) - ord('0'))
                    if s[idx] == '0' and i != idx:
                        break
                    if t > 255:
                        break
                    cur.append(str(t))
                    dfs(i + 1, n, cur)
                    cur.pop()
        dfs(0, len(s), [])
        return ans
```

* []

```TypeScript
function restoreIpAddresses(s: string): string[] {
    const ans = new Array<string>()
    function dfs(idx: number, n: number, cur: Array<number>): void {
        if (cur.length > 4) return 
        if (idx == n) {
            if (cur.length == 4) {
                let str = ''
                for (let i = 0; i < 4; i++) str += cur[i] + "."
                ans.push(str.substring(0, str.length - 1))
            }
        } else {
            for (let i = idx; i < n; i++) {
                let t = 0
                for (let j = idx; j <= i; j++) t = t * 10 + (s.charCodeAt(j) - '0'.charCodeAt(0))
                if (s[idx] == '0' && i != idx) break
                if (t > 255) break
                cur.push(t)
                dfs(i + 1, n, cur)
                cur.pop()
            }
        }
    }
    dfs(0, s.length, new Array<number>())
    return ans
}
```

* æ—¶é—´å¤æ‚åº¦ï¼šçˆ†æœä¸è®¨è®ºæ—¶ç©ºå¤æ‚åº¦
* ç©ºé—´å¤æ‚åº¦ï¼šçˆ†æœä¸è®¨è®ºæ—¶ç©ºå¤æ‚åº¦

---

## æœ€å

**å¦‚æœæœ‰å¸®åŠ©åˆ°ä½ ï¼Œè¯·ç»™é¢˜è§£ç‚¹ä¸ªèµå’Œæ”¶è—ï¼Œè®©æ›´å¤šçš„äººçœ‹åˆ° ~ ("â–”â–¡â–”)/**

æ‰€æœ‰é¢˜è§£å·²ç»åŠ å…¥ [åˆ·é¢˜æŒ‡å—](https://github.com/SharingSource/LogicStack-LeetCode/wiki)ï¼Œæ¬¢è¿ star å“¦ ~

